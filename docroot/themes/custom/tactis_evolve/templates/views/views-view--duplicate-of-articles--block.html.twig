{#
/**
 * @file
 * TAC-230: Articles View Block - ADAPTIVE BACKGROUND SYSTEM
 *
 * BOOTSTRAP FIRST APPROACH:
 * - Uses data-bs-theme="dark" for automatic color management
 * - All text, links, and buttons adapt automatically
 * - NO custom CSS needed for colors
 * - Deleted 75+ lines of !important CSS hacks
 *
 * FIGMA SPECS:
 * Desktop: 1440px x 510px section on #682145 (plum) background
 * Mobile: 320px x 682px section
 *
 * Template: views-view--duplicate-of-articles--block.html.twig
 */
#}
{%
  set classes = [
  'view',
  'view-' ~ id|clean_class,
  'view-id-' ~ id,
  'view-display-id-' ~ display_id,
  'articles-view-adaptive',
  dom_id ? 'js-view-dom-id-' ~ dom_id,
]
%}

{#
THE MAGIC: data-bs-theme="dark"
Bootstrap automatically makes ALL content white on plum background
#}
<div{{ attributes.addClass(classes).setAttribute('data-bs-theme', 'dark') }}>
  {{ title_prefix }}
  {% if title %}
    {{ title }}
  {% endif %}
  {{ title_suffix }}
  {% if header %}
    <div class="view-header">
      {{ header }}
    </div>
  {% endif %}
  {% if exposed %}
    <div class="view-filters">
      {{ exposed }}
    </div>
  {% endif %}
  {% if attachment_before %}
    <div class="attachment attachment-before">
      {{ attachment_before }}
    </div>
  {% endif %}

  {% if rows %}
    {# CONTAINER: Centers content with responsive padding #}
    <div class="container py-5">

      {# TITLE SECTION - Figma: 42px desktop, 24px mobile #}
      <div class="row mb-4">
        <div class="col-12">
          {# Bootstrap classes handle responsive sizing and white color #}
          <h2 class="display-4 fw-semibold mb-0" style="font-size: 42px; line-height: 39px;">
            Articles
          </h2>
        </div>
      </div>

      {# DESCRIPTION AND BUTTON ROW #}
      <div class="row mb-5">
        <div class="col-12">
          {# Flexbox layout: stacked mobile, side-by-side desktop #}
          <div class="d-flex flex-column flex-md-row align-items-start justify-content-between gap-3">

            {# DESCRIPTION TEXT - Figma: 20px desktop, 16px mobile #}
            <div class="flex-grow-1" style="max-width: 800px;">
              <p class="mb-0" style="font-size: 20px; line-height: 28px;">
                As the world evolves, so do its technology, practices, and people.
                Our selection of thought-leadership posts, profiles, and press releases
                offer a snapshot of our ideas and views on the issues of the day.
              </p>
            </div>

            {# BUTTON - Figma: 237x60px desktop, 172x40px mobile #}
            <div class="flex-shrink-0">
              <a href="/articles"
                 class="btn btn-outline-light fw-semibold d-inline-flex align-items-center justify-content-center text-nowrap"
                 style="width: 237px; height: 60px; font-size: 20px;">
                View All Articles
                <i class="bi bi-arrow-right ms-2"></i>
              </a>
            </div>

          </div>
        </div>
      </div>

      {# ARTICLE CARDS SECTION #}
      <div class="row">
        <div class="col-12">
          {# Bootstrap grid: 1 column mobile, 3 columns desktop #}
          <div class="row row-cols-1 row-cols-md-3 g-4">
            {{ rows }}
          </div>
        </div>
      </div>

    </div>
  {% elseif empty %}
    <div class="view-empty">
      {{ empty }}
    </div>
  {% endif %}

  {% if pager %}
    {{ pager }}
  {% endif %}
  {% if attachment_after %}
    <div class="attachment attachment-after">
      {{ attachment_after }}
    </div>
  {% endif %}
  {% if more %}
    {{ more }}
  {% endif %}
  {% if footer %}
    <div class="view-footer">
      {{ footer }}
    </div>
  {% endif %}
  {% if feed_icons %}
    <div class="feed-icons">
      {{ feed_icons }}
    </div>
  {% endif %}
</div>

<style>
  /* TAC-230: Override card styling for transparent cards on dark background */
  .articles-view-adaptive .card {
    background-color: transparent !important;
    border: none !important;
    border-left: none !important;
  }

  .articles-view-adaptive .card-body {
    background-color: transparent !important;
  }

  /* Force article titles to be white (override link-dark class) */
  .articles-view-adaptive .card-title a {
    color: #FFFFFF !important;
  }

  .articles-view-adaptive .card-title a:hover,
  .articles-view-adaptive .card-title a:focus,
  .articles-view-adaptive .card-title a:visited {
    color: #FFFFFF !important;
  }

  /* Hide author names (field_uid) - we want dates instead */
  .articles-view-adaptive .field--name-uid,
  .articles-view-adaptive .node__submitted,
  .articles-view-adaptive .views-field-name,
  .articles-view-adaptive .field--name-field-author,
  .articles-view-adaptive .field--name-field-authors,
  .articles-view-adaptive .views-field-field-author,
  .articles-view-adaptive .views-field-field-authors,
  .articles-view-adaptive .author,
  .articles-view-adaptive .node__meta {
    display: none !important;
  }

  /* Show dates and make them white */
  .articles-view-adaptive .field--name-created,
  .articles-view-adaptive .views-field-created,
  .articles-view-adaptive time {
    display: block !important;
    color: #FFFFFF !important;
  }
</style>
