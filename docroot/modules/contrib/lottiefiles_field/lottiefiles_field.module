<?php

/**
 * @file
 * Contains lottiefiles_field.module.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function lottiefiles_field_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    // Main module help for the remote_image module.
    case 'help.page.lottiefiles_field':
      $output = '';
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('The LottieFiles Field module allows you to add lightweight, scalable Lottie animations to your content.') . '</p>';

      $output .= '<h4>' . t('JSON File Support') . '</h4>';
      $output .= '<p>' . t('You can add Lottie animations using:') . '</p>';
      $output .= '<ul>';
      $output .= '<li>' . t('External URLs (e.g., https://assets3.lottiefiles.com/packages/lf20_1gqj80jh.json)') . '</li>';
      $output .= '<li>' . t('Internal URLs (e.g., /sites/default/files/animations/animation.json)') . '</li>';
      $output .= '<li>' . t('File upload: Upload JSON files directly to your site') . '</li>';
      $output .= '</ul>';

      $output .= '<h4>' . t('Configuration Options') . '</h4>';
      $output .= '<ul>';
      $output .= '<li>' . t('Autoplay: Automatically play animation on load') . '</li>';
      $output .= '<li>' . t('Background: Set custom background color or transparency') . '</li>';
      $output .= '<li>' . t('Controls: Show/hide player controls') . '</li>';
      $output .= '<li>' . t('Loop: Enable/disable animation looping') . '</li>';
      $output .= '<li>' . t('Speed: Adjust animation playback speed') . '</li>';
      $output .= '</ul>';
      return $output;

    default:
      return '';
  }
}

/**
 * Implements hook_theme().
 */
function lottiefiles_field_theme() {
  return [
    'lottiefiles_player_formatter' => [
      'variables' => [
        'uri' => NULL,
        'autoplay' => NULL,
        'background' => NULL,
        'controls' => NULL,
        'hover' => NULL,
        'loop' => NULL,
        'mode' => NULL,
        'speed' => NULL,
        'selector' => NULL,
        'width' => NULL,
        'cssselector' => NULL,
      ],
    ],
  ];
}
